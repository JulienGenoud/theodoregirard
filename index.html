<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Archives Th√©odore Girard</title>
    
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Config Tailwind -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ['"Crimson Text"', 'serif'],
              sans: ['"Lato"', 'sans-serif'],
            },
            colors: {
              paper: '#fdfbf7',
              ink: '#2d2a2e',
              sepia: {
                50: '#fdfbf6',
                100: '#f7f1e3',
                200: '#efe2c7',
                300: '#e5ceaa',
                800: '#5c4d3c',
                900: '#3e3226',
              }
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: #fdfbf7;
        color: #2d2a2e;
      }
      .pdf-scroll::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      .pdf-scroll::-webkit-scrollbar-track {
        background: #f1f1f1; 
      }
      .pdf-scroll::-webkit-scrollbar-thumb {
        background: #c1c1c1; 
        border-radius: 4px;
      }
      .pdf-scroll::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8; 
      }
    </style>

    <!-- Import Map for Dependencies -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.263.1?deps=react@18.2.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>

    <!-- Babel Standalone for compiling TSX in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <!-- MAIN APPLICATION SCRIPT -->
    <script type="text/babel" data-type="module" data-presets="typescript,react">
      import React, { useState, useRef, useEffect } from 'react';
      import ReactDOM from 'react-dom/client';
      import { 
        BookOpen, ChevronLeft, ChevronRight, Info, Feather, Scroll, Menu, X, 
        ExternalLink, Maximize, Minimize, List, Scale, Sword, PenTool, 
        Flower, Megaphone, Ban, TrendingUp, Coins, Key
      } from 'lucide-react';

      // ----------------------------------------------------------------------
      // SECTION: CONSTANTS
      // ----------------------------------------------------------------------

      const APP_TITLE = "Archives Girard : La Forge d'un R√©publicain (1872-1918)";

      const BOOK_PAGES_IDS = [
        "1bGeTFZlTM1AheS6UG9jBPblPuskz3tYx", "1EdzZ8yeAXZehGzfd3not_-RSW2ZmLfMO", "1O6lY9M2V3Xxo9AltMGMXuRqvxBqKs4S1", "1RwPIG6acSX81T_hloHh9Wr2CNOqdhaia", "1Tl4jJ1bGynCAwTzL_YFjwERX9pJSX7Sn", "1Brq68ylke7weLc8qaXIQAFTSd7yhTQqz", "1bvBKSK4vxlIZ69me6b1Rui6-7UMRlBoL", "14oc7NGA4nS0BpguqFpkfZvY2QChcpDY5", "11BBdYBeox3dPt44TbhoGSNufnK6JRQMj", "1DDEAQzgibd5UnuXnlga4hZifmgSydDKF",
        "15_aVibwJyYE_s5fqW8fOwHZK5Hb3na4I", "17m86D7n68VIj8aknjDde6gWgJNz2TnMf", "1svEUrle5aGs9SuOBLK_Me0-CgXZVbC2F", "1XSh_YMcIVM7gGOjCuMf3c7zo76NaBfs9", "1WM0mmcDNdJN1645fOW-WzGSBzM7p-Egk", "1GdLvnzmZRE-YM4vleSAPyY2DVlvFza3O", "1Ka_OcXREBpdRRJh4sS81sKizW822STBr", "1QVlc9G_LsGyqIiSvUW4fK9omP7UXN3q9", "1GgMoJDb2sbhRH8p1FNj5XTW16X7nsBR4", "1jMyAowzEIt5o41eUYTM3iw0KPcJQYoTE",
        "17VajuYpb9vWDiVa1-LVLMWgjRlYsjpuB", "1WTbfcafkzopseKNg-KEh-6DtDmlBkqRH", "1rgV-1p1x9mkaQ3kgMA_a8KlTkU1tjrAf", "19QPoRXfMa37g_a7m6Vi8yFaEDPyRaYaS", "1KKFnMZ3OK3Vge262tBfG2TNbTXVyOBxp", "1vcp7HLzxsgWbT3om9q0poS_gGC_RzAdu", "1PybXHoSUnZ-Fs9BfwwIHPxx3SESm078s", "1WBcriAZi6bB16wyr_X2C75TMFifQUO8K", "1UoMlafovWuVTKMdUueQihZOraSjRNdul", "1gOmG818qKJMfnufdYGUkNuXo_QrStrut",
        "1_myF6SoGvzSUrhY9U5iQELfh3S1VV6Ls", "1bfo5UfOicemzgXO6b4Q7mCdVSuhH9Yil", "1xBs1sPaKbQ5RZOCJpBM9U3zt7bm7i5WF", "1sUbZhVVjvApVfFVwkGAzTwZ8cOsMcWe6", "1mn4XBqfejOwm9ARt1SIJE8r2pG3aXXRq", "1lNLhyViZ13stGr79ANyXvipy4dTHHuaK", "1wQoyNjiuwW7TA9lSPy_UbnOV-UHRnT8Z", "1WoC8igyc8XaLBtXBpT1CEZwe55ajE7Aq", "1l--OEDcCa3C2ctLcP1VRzy1LfGEkSW-4", "13OBcE1TXM1lld3JNWWlHk9rOqKzfo97D",
        "1MYt2i3CN1ReKBxbHQe-bUkBs3h4XqwOO", "1LnRVR8AtdRMMtFMZnpZkChfwW9u6MBUM", "1C4Gb-LpDX382-nnVewkYT2ylxLVBgil2", "1qk3z9dXpPg6Zta8nRDPnFHWf0Lley8Fb", "1u3HWWfpszKxtLTptS8CejKejLNJqZ0x8", "1PW-cyiwiAzzRDO3oeM1dxjfytexkyg6I", "1QpHNV2XJ9KTzDs-K6MfTTwUdIC1ftNF1", "1PXkgN5Pawv7IpOcVD-zGXkfZGJpjBCiG", "1P_45wqzEkt0-jE9Aaa3ath92VYntwxE8", "1_AOREeh1_sbx2zPLxNg0fLuZrnd2kY-z",
        "1bDr31Muwvog9vCJRaP77thzqa3XKCK1w", "1zljo_pOlxKe_-UxY0ft01oIniyTXDQo-", "1yQph61LGzcIOiR7_xum1MUO3DuEe3DE2", "1qIoxKxzjaN0hHiwWKY8AkQgCoDQ3VlC8", "1jc7vENNClH9FptUxqZeITSaPP5IWvR_H", "1k4QcuoA_k5KZyMYETlkuq-XSiPigL4qR", "1Lu__GLJXVgxDv1IKqnoTGfbKx8B0wHF_", "1WFLD3vnBtNyxWJYClEFqOxprXN6qmyeD", "11e9NziKM1YbPn8GTsIeaHywRxXmU-Mrx", "168PQid-QJPuJrcikDYABwgzJGCvbIMlW",
        "19Zn0gEbzCoV72DG7TpnyBtPIZcAf1RwG", "1Nm-00a_0OwOYC2wCXqQ120PaZpSVHxEq", "1-bUZ56xi0nATzLzaQkMO7HqVoglri-wn", "1d-cFjnZRY-IQikEiDOWCzQrXKn2zMbbb", "1e5QdFwltguCe3u9VkDYh-DM1kBoGMR2S", "1eFthFXpR9SsbtxjZrxL0yNhPkS7Fi0lI", "1xHmAZr3PhJBjj4dadBol2hPDc6Tg3Vaa", "1PScH7brD_1rO898gzJlQg8_T_ZAjsK-X", "1Fq9Z0lAoCcNYUkqWTBp3oZBqUdPvtirf", "1C3utg0Xw2mecXcwa4fInXipo30CD1GeV",
        "1IachZM3hAgcvpRkGiR94eQgoX4-H8ZSc", "1E95QChhlexbsagkxjrlm6u3DZ4ohE9Oo", "1TwXtNDO04LYw2LMgsYE3DBtd11PLgtO8", "1K1mvKuOwhcBBY-c-WdrwbhQ72jzotD33", "18Dssl0_b6jsq9FwIVxq0JurGzOq61xmM", "17DN8TzQky9dhDMCIhbs4C-AxA8WdLeNu", "1nUoZbUL09aglbGuyFGzEqRszUCr1NSXL", "1Vlu8qJ698AWwkIE4BS5mz8UaDCc91p1G", "1LwhFlshts4xeBKa_syjDQghDyovSkpJ3", "1Zmw338ArBvDd5V05_kKVJg8c6qgw0GWf",
        "1zaNtlEN8e3RhgWVpZD_bXjmpnjyCKHXb", "1wDDoQ1Lo5d7n-CfilnDQwVtd3rmP_vtt", "1Bx-d-3euMiGKL0qnbsHVtBlBtkoGLrh-", "1Trs-OHAxoi3rigYbu6OFO5rnh0fjX4x0", "1ZNnPMe7tcdiMfcScq8jBrhh2HMRTwa9e", "1tleT8FfTAWfXIBuhvBjBfb891p8LWXnW", "1BunJQfFGGovpJ9QCimo12YK69SUUoc0e", "1tmLtSxKYbKQuHpjWeZdIiUVvcyaQjNbk", "1M3TW4NELSpEWZlmdmtAFvcmpuA_8Uy1d", "1cUZtv6gB9sEkIcGaIJP2pE7_Mu_478wc",
        "117kL7h2nWXz5cXRSma3fWwCVu1qYXLKJ", "1SikSPknEagITryob-RxnkKg5-0IAtdqw", "13mZhhFhrB-ERaQpLhi8IXuCnj136B1ZS", "1MUlt6ZqdbUN8BOOmm3uj-bb9dbhr-tJv", "1cvlqjwfwkZ0Y-p_xN9lhigTdjaUGjOXQ", "1bPyq9ZMCBDIaivjHduICDRZuvFh9cz27", "1xtJVOsbEqsc67yftbrg2dbuTE4teZzek", "1pWK48oRvddiGjt6NZ3ajc9vDfAgDBkT1", "1TzCmG5ZYLO7qR-aFSrOLW1OwFaJHGTV5", "1e7pxAQFnYE_mwyH5c5wkh8MxtNowY5mJ",
        "1wQdljLiPzijwFRIGuZVQ1ifn7UqaGC5x", "1sOa1Ol95mbKHJO9BiOseEEZEDLddCBhk", "1Ig00M_chmWgsTCkwWLYJxgVxS75VUWHP", "1bzmctD4lf9OI8rbOVL9NaEW-3GyR5GX2", "112awSFSF5tMgiBjS3z7fUeUm8H65gJd-", "1ZVqt_96RDAJ79fI8JlrF6SZBR9QVai68", "1VRETT_viHMPaQHsSekUtWDnHsfS7Ktk5", "1FWKpIQjaO4IZHbsJ5CLJYzfu99H9AKx2", "1w9NTVlbWfbVG8_f0Bfv-gyjr20wC9XEF", "1_vLbxUXcTmojoxjfIcOT1Rd865gEodpg",
        "1y5UWKbWprLHdK1ZZaokBuW-Bv2bX4FqI", "1-p_dIo-bM_dcNqNAjUf1MzK7VQr2wPzG", "1WH705fWipTfstG8_CtZQRa0soQ2HY54F", "1ncCOi4KOhN61SY4oDVdOW36tyV_kGya9", "1YB8PwKW3ORhuGEXxdd3IC-oMNs2Nlo9K", "1klnTQGJo-pJJRp7AzVXEgcxZAEAUVaRI", "1-UdvzSMmwnC1Ra18cNVYAdGGaSWNUx-Q", "1GJmDvu4vYTZ78QPopPBF7G8iOS6bPcVn", "1JU2ItX68j4dp2afwrSuiJ7h3rWrcpHt1", "1IW4VbPALQBGIKgEgSUl2n6W-DzmMVNiX",
        "1X_PLOW0j4ea5QYKaMZfdHHoyNVFyPjw4", "1H9Na4gQadFzNuLE5K9uAJS3kdi6_Fmvc", "1se6BYRxwDDtM8hwC7cd3WNjwLh_1RiJP", "1VJzMFkXLTwszszGvUpc8Lg-KdBIBP48q", "1Mu6aucpzz-s_9Ixn3A7ta2G9RWqM-ulG", "1Syww19gLbeaEnGcGd74NQjn7j-FW-2C-", "1k_7x5TAVwZ5O6NExME4hkEdCn60N3zPC", "1hGD_q4zMz73GSp48UVC8qwtxRtQ1Ru9A", "1cGzAGY8jz79lqjrkUQqmYhxMGqAME3sK", "1rh14aW3oqJLgzpfXjalMqcB4BhaSUkkU",
        "1O8YM4ku25UwjdgIRbHhofTBjgiwqXH__", "1KkQPYPvbtElcQGIbtr9laY9AcF5HJEmM", "1-AjqU8lwZBm_txKX-7RDBtjP4SWJ8nV7", "14bQERNE1958htn-scb7WCfS_F4OzXjvR", "1voFHbRriKE4NcO1v60QsB_Vxxu0vMDML", "1dYFqQwyyy4Wh6rWM2EglDyLTOqm8PM2E", "1mqc_FgxZWRdZ1KbTSZb5M1SXUPaJaM7O", "10D_HjOpZVu0JxwW2AkGOkjVDJOTIwrbh", "1hkNWaUFVueh8EXXI3E5EE8z2KE9aBV-9", "1hY9MczZbqkDJoLIA7YRB0fBtFQ6TWODe",
        "1iV3CToqPGPoTyHd0C1QvMvt2YdVzBGdK", "14ICje3nLVRWjrV6ah5BlQiDR-eIZgh4b", "1wg8duilzCRH0NnATYQHvtMDYuU1ws3lF", "1D5U2-gAUz8vmURL-ZQXuRQUStYFdVRaT", "1eY8sgkgDkwASL3iTtwx48tauV_fqqI4i", "1e8yTIEYVuGI_PZSjXaAbT6xbdUFgGwkx", "1FSQtv188qH3sh_mHXYw3HWiHqv9KeoMg", "13iMiOSdeRp23wQUuzUNwVuaOmyqofgKO",
      ];

      const TOTAL_PAGES = BOOK_PAGES_IDS.length;

      const BIOGRAPHY_EVENTS = [
        {
          year: "1851",
          title: "Naissance en Saintonge",
          description: "N√© le 14 janvier √† Montils (Charente-Inf√©rieure), fils de cultivateur. Il grandit dans un terroir rural marqu√© par l'influence bonapartiste.",
          period: "roots"
        },
        {
          year: "1872-1876",
          title: "La Guerre des Plumes",
          description: "Jeune militant, il compile le 'Livre de Combat'. Il vit au rythme des proc√®s de presse et des luttes contre l'Ordre Moral √† Saintes et Cognac.",
          period: "roots"
        },
        {
          year: "1884",
          title: "Maire de Melle",
          description: "Installation dans les Deux-S√®vres. Il devient Maire de Melle, mandat qu'il gardera 25 ans. Il y d√©fend l'√©cole la√Øque et la R√©publique.",
          period: "statesman"
        },
        {
          year: "1895",
          title: "S√©nateur des Deux-S√®vres",
          description: "√âlu S√©nateur le 24 f√©vrier. Il si√®ge au groupe de la Gauche D√©mocratique et devient une conscience morale de la Haute Assembl√©e.",
          period: "statesman"
        },
        {
          year: "1910",
          title: "Garde des Sceaux",
          description: "Ministre de la Justice dans le gouvernement Aristide Briand. Il incarne la m√©ritocratie r√©publicaine au sommet de l'√âtat.",
          period: "statesman"
        },
        {
          year: "1918",
          title: "Une Fin Discr√®te",
          description: "Il s'√©teint √† Paris le 13 octobre. Le Figaro salue 'la parole vive d'un honn√™te homme qui atteint l'√©loquence sans y penser'.",
          period: "statesman"
        },
      ];

      const CONTEXT_POINTS = [
        {
          title: "L'Ordre Moral (1873-1876)",
          text: "Sous la pr√©sidence de Mac Mahon, la France conservatrice tente de 'rechristianiser' le pays. C'est contre cette alliance du Sabre et du Goupillon que le jeune Girard s'insurge dans ses notes."
        },
        {
          title: "Le Bastion Bonapartiste",
          text: "Le Sud-Ouest (Charentes) reste fid√®le √† l'Empire d√©chu. Le Baron Eschass√©riaux y est tout-puissant. √ätre R√©publicain ici, c'est √™tre un r√©sistant face √† une majorit√© hostile."
        },
        {
          title: "La Guerre Scolaire",
          text: "Avant m√™me les lois Jules Ferry, le combat se joue √† l'√©cole. Pour Girard, l'√©cole la√Øque est le 'berceau de l'√©galit√©' qui doit former des citoyens libres, loin des dogmes."
        }
      ];

      const BONAPARTIST_CONTEXT = {
        title: "Pourquoi la Charente √©tait-elle Bonapartiste ?",
        text: "En lisant ces archives, on est frapp√© par la puissance du parti de l'Empire. C'est avant tout √©conomique : sous Napol√©on III, le commerce des eaux-de-vie (Cognac) a explos√© gr√¢ce au trait√© de libre-√©change avec l'Angleterre (1860). Les paysans et bourgeois charentais associaient l'Empire √† la richesse et craignaient que la R√©publique n'am√®ne l'instabilit√© et la pauvret√©. Girard a d√ª construire sa carri√®re contre ce courant dominant."
      };

      const ANECDOTES = [
        {
          title: "L'Affaire des 'Violettes Napol√©oniennes'",
          year: "1876",
          pageRef: 124,
          icon: "flower",
          content: "En juillet 1876, une √©trange arnaque secoue la Saintonge. Un certain 'P√®re la Violette' vend aux paysans des graines de violettes (embl√®me bonapartiste) promettant qu'elles fleuriront miraculeusement au retour de l'Empereur.",
          analysis: "Il vendait en r√©alit√© de la mauvaise graine ! Cela montre la ferveur na√Øve des campagnes pour la famille Bonaparte et l'attente messianique d'un retour imp√©rial."
        },
        {
          title: "Le Capucin Exorciste et la Guerre des Chaires",
          year: "1874",
          pageRef: 60,
          icon: "megaphone",
          content: "Le P√®re Alexandre, surnomm√© 'Le Capucin', transforme sa chaire √† Saintes en tribune politique contre la R√©publique. La presse r√©publicaine r√©plique en racontant qu'il tente d'exorciser des meubles !",
          analysis: "L'√âglise faisait ouvertement campagne pour les conservateurs. Les R√©publicains utilisaient l'humour et la caricature (fausses lettres de d√©votes) pour d√©cr√©dibiliser cette ing√©rence politique."
        },
        {
          title: "Le 4 Septembre Interdit !",
          year: "1873",
          pageRef: 5,
          icon: "ban",
          content: "Le 4 septembre (anniversaire de la R√©publique) est interdit de f√™te par l'Ordre Moral. Les pr√©fets envoient la police emp√™cher les banquets. Les R√©publicains organisent alors des f√™tes clandestines.",
          analysis: "La R√©publique √©tait un r√©gime 'tol√©r√©' mais combattu de l'int√©rieur. La f√™ter √©tait un acte de r√©bellion et de courage politique."
        }
      ];

      const VOCABULARY = [
        { term: "Badingueux", def: "Insulte d√©signant les Bonapartistes (d'apr√®s 'Badinguet', surnom moqueur de Napol√©on III)." },
        { term: "Les Blancs", def: "Les Monarchistes, partisans du Roi et du drapeau blanc, alli√©s de circonstance des bonapartistes contre la R√©publique." },
        { term: "L'Ordre Moral", def: "La coalition conservatrice et religieuse au pouvoir √† Paris (1873-1876), que les journaux du recueil combattent f√©rocement." },
        { term: "L'Insigne Basilique", def: "Terme ironique utilis√© par les anticl√©ricaux pour d√©signer l'√©glise Saint-Pierre de Saintes, QG des conservateurs locaux." }
      ];

      const EVOLUTION_ANALYSIS = {
        title: "De la Satire au S√©nat",
        text: "Ces archives montrent le passage de l'adolescence politique √† la maturit√© d'√âtat. En 1872, c'est l'√©poque de la jeunesse et de la conqu√™te : on est dans l'attaque, la caricature, le journalisme de combat pour d√©truire l'adversaire. √Ä partir de 1880, les manuscrits montrent un ton pos√©, institutionnel. La R√©publique a gagn√©. Le combat n'est plus de d√©truire, mais de construire l'√âtat (l'√âcole, la Justice)."
      };

      const BOOK_THEMES = [
        {
          icon: "feather",
          title: "La Satire comme Arme",
          text: "Face √† la censure, l'humour est un refuge. Le livre regorge d'articles d'Arthur Lanlair ridiculisant les 'badingueux' (bonapartistes) et les p√®lerinages politiques."
        },
        {
          icon: "eagle", 
          title: "L'Ombre de l'Empire",
          text: "Chaque page transpire la peur d'un retour de Napol√©on III ou du Prince Imp√©rial. Les 'Appels au Peuple' sont d√©nonc√©s comme des man≈ìuvres s√©ditieuses."
        },
        {
          icon: "scale",
          title: "Justice et Presse",
          text: "Proc√®s en diffamation, duels d'honneur, pr√©fets censeurs... Ce recueil est le t√©moignage brut de la difficile conqu√™te de la libert√© de la presse."
        }
      ];

      const KEY_FIGURES = [
        { name: "Arthur Lanlair", role: "Le Chroniqueur", desc: "Plume acerbe de 'L'Ind√©pendant', ses satires rythment le livre." },
        { name: "Baron Eschass√©riaux", role: "L'Ennemi", desc: "Figure tut√©laire du Bonapartisme charentais, la cible privil√©gi√©e." },
        { name: "Le Capucin", role: "Le Cl√©rical", desc: "Pr√©dicateur transformant la chaire en tribune politique." }
      ];

      const TABLE_OF_CONTENTS = [
        { title: "Assises ‚Äì Affaire V√©ron", page: 1 },
        { title: "Lettre de Monsieur C...", page: 2 },
        { title: "Les enfers de Paris (Le Barbier de S√©ville)", page: 3 },
        { title: "R√©ponse de Bonnard / Ma r√©ponse", page: 3 },
        { title: "La condamnation en appel", page: 4 },
        { title: "Le mot du r√©veil", page: 8 },
        { title: "La d√©mission de M. Gr√©vy", page: 9 },
        { title: "Les √©lections de la...", page: 10 },
        { title: "Vol de l'h√¥tel Ligu√®s √† Saintes", page: 12 },
        { title: "Pour un...", page: 13 },
        { title: "Ma r√©ponse / Tout commence", page: 13 },
        { title: "La r√©ponse", page: 16 },
        { title: "Les troubles de Charleville", page: 20 },
        { title: "L'affaire C...", page: 21 },
        { title: "La manifestation bonapartiste...", page: 22 },
        { title: "Au Progr√®s, √† propos de cette manifestation", page: 24 },
        { title: "Le d√©part", page: 25 },
        { title: "Rochefort", page: 26 },
        { title: "Officiers caissiers", page: 29 },
        { title: "Je leur demande la victoire", page: 30 },
        { title: "R√©ponse √†...", page: 31 },
        { title: "Autre lettre de M. Demser", page: 33 },
        { title: "La d√©fense de Bazaine", page: 34 },
        { title: "Zigzags", page: 36 },
        { title: "La r√©cusation de M. Droning", page: 38 },
        { title: "R√©ponse du journal / Incident Clamat", page: 39 },
        { title: "Ma lettre √† ce sujet", page: 40 },
        { title: "R√©ponse Clamat ‚Äì Lettre Bornay", page: 41 },
        { title: "Ma r√©ponse", page: 42 },
        { title: "Bibliographie", page: 43 },
        { title: "La procession aux flambeaux", page: 44 },
        { title: "Mre Coula... / Professions de foi", page: 46 },
        { title: "Causerie : la d√©lib√©ration...", page: 49 },
        { title: "R√©ponse", page: 50 },
        { title: "Les ouvriers Clamat", page: 51 },
        { title: "Le manifeste de M. Play / A la volont√©", page: 52 },
        { title: "Les √©l√©ments impurs", page: 53 },
        { title: "Les √©lections municipales", page: 54 },
        { title: "Cort√®ge lait maigre", page: 55 },
        { title: "Union r√©publicaine / Ma croissance", page: 56 },
        { title: "Regard au del√† des Pyr√©n√©es / R√©organisation", page: 58 },
        { title: "Les Parades de...", page: 60 },
        { title: "La fin du Carnaval / Le capucin", page: 61 },
        { title: "R√©publicaine √† Cognac", page: 62 },
        { title: "Lettre d'une d√©vote", page: 63 },
        { title: "Ma r√©ponse au capucin", page: 64 },
        { title: "Lettre... sur la d√©vote", page: 65 },
        { title: "L‚Äô≈ìuvre de Saint...", page: 66 },
        { title: "Le capucin / Viatique", page: 67 },
        { title: "Lettre du Capucin", page: 68 },
        { title: "Les pi√®tres imb√©ciles sont des malheureux", page: 70 },
        { title: "16 mars / Lettre...", page: 71 },
        { title: "C'est fini !", page: 73 },
        { title: "La fin d'un charivari", page: 74 },
        { title: "Excellents confr√®res", page: 75 },
        { title: "Journal officiel", page: 76 },
        { title: "Le Progr√®s en Cour d'assises", page: 77 },
        { title: "L'√©crin... / Adressez-vous √†...", page: 78 },
        { title: "L'ouverture des concours", page: 79 },
        { title: "Les martyrs de l'appel au peuple", page: 80 },
        { title: "Largesse de la collecte / Pers√©cutions", page: 81 },
        { title: "L'h√¥tel de Lamoureu... / Bizarreries", page: 82 },
        { title: "Les cl√©ricaux... la loterie", page: 83 },
        { title: "A la volont√© nationale / L'oiseau", page: 84 },
        { title: "Revue humoristique", page: 88 },
        { title: "Les colporteurs / Revue humoristique", page: 89 },
        { title: "Revue de la presse", page: 90 },
        { title: "Avec franchise", page: 93 },
        { title: "R√©ponses au j√©suite", page: 96 },
        { title: "Temp√™te de sacristie", page: 99 },
        { title: "Revue...", page: 100 },
        { title: "La palme... Mort de M...", page: 102 },
        { title: "La candidature de Cadore", page: 104 },
        { title: "Gambades du suffrage universel", page: 106 },
        { title: "Les exercices du capucin", page: 107 },
        { title: "Proc√®s des Landes", page: 108 },
        { title: "Th√©√¢tre : La vie de Boh√®me", page: 109 },
        { title: "Le pauvre...", page: 110 },
        { title: "Don C√©sar de Bazan / Monseigneur", page: 111 },
        { title: "Le programme...", page: 112 },
        { title: "R√©ponse au Progr√®s", page: 113 },
        { title: "Courrier r√©ponse", page: 115 },
        { title: "Insurrection de...", page: 116 },
        { title: "Sa photographie / Les cl√©ricaux", page: 120 },
        { title: "Le phylloxera √† Dompierre", page: 121 },
        { title: "(Suite manuscrite illisible)", page: 122 },
        { title: "Les violettes napol√©oniennes", page: 124 },
      ];

      // ----------------------------------------------------------------------
      // SECTION: APP COMPONENTS
      // ----------------------------------------------------------------------

      const Navigation = ({ activeSection, onNavigate }) => {
        const [isOpen, setIsOpen] = useState(false);

        const navItems = [
          { id: 'home', label: 'Accueil' },
          { id: 'bio', label: 'Biographie' },
          { id: 'context', label: 'Contexte' },
          { id: 'stories', label: 'Histoires' },
          { id: 'keys', label: 'Cl√©s de Lecture' },
          { id: 'reader', label: 'Le Livre' },
        ];

        return (
          <nav className="fixed top-0 left-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-stone-200 shadow-sm font-sans">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="flex justify-between h-16 items-center">
                <div className="flex items-center cursor-pointer" onClick={() => onNavigate('home')}>
                  <Feather className="h-6 w-6 text-amber-700 mr-2" />
                  <span className="font-serif text-xl font-bold text-stone-800 tracking-wide">Archives Girard</span>
                </div>
                
                <div className="hidden md:flex space-x-6">
                  {navItems.map((item) => (
                    <button
                      key={item.id}
                      onClick={() => onNavigate(item.id)}
                      className={`px-3 py-2 text-sm font-medium transition-colors duration-200 ${
                        activeSection === item.id 
                          ? 'text-amber-700 border-b-2 border-amber-700' 
                          : 'text-stone-600 hover:text-stone-900'
                      }`}
                    >
                      {item.label}
                    </button>
                  ))}
                </div>

                <div className="md:hidden">
                  <button onClick={() => setIsOpen(!isOpen)} className="text-stone-600 hover:text-stone-900 p-2">
                    {isOpen ? <X size={24} /> : <Menu size={24} />}
                  </button>
                </div>
              </div>
            </div>

            {isOpen && (
              <div className="md:hidden bg-white border-b border-stone-200">
                <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                  {navItems.map((item) => (
                    <button
                      key={item.id}
                      onClick={() => {
                        onNavigate(item.id);
                        setIsOpen(false);
                      }}
                      className={`block w-full text-left px-3 py-4 text-base font-medium ${
                        activeSection === item.id 
                          ? 'bg-amber-50 text-amber-800' 
                          : 'text-stone-600 hover:bg-stone-50'
                      }`}
                    >
                      {item.label}
                    </button>
                  ))}
                </div>
              </div>
            )}
          </nav>
        );
      };

      const Hero = ({ onRead }) => {
        return (
          <div className="relative bg-stone-100 min-h-screen flex items-center justify-center overflow-hidden pt-16">
            <div className="absolute inset-0 opacity-10 pointer-events-none" style={{ backgroundImage: 'url("https://www.transparenttextures.com/patterns/paper-fibers.png")' }}></div>
            
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
              <div className="text-center lg:text-left space-y-8">
                <div className="inline-flex items-center px-4 py-2 rounded-full bg-amber-100 text-amber-900 text-sm font-semibold tracking-wider uppercase mb-4">
                  Archives 1872-1918
                </div>
                <h1 className="text-5xl lg:text-7xl font-serif text-stone-900 leading-tight">
                  La Forge d'un <br/>
                  <span className="text-amber-700 italic">R√©publicain</span>
                </h1>
                <p className="text-xl text-stone-600 font-serif max-w-2xl mx-auto lg:mx-0 leading-relaxed">
                   Des tranch√©es de la presse charentaise aux ors du Minist√®re de la Justice.
                   D√©couvrez comment un jeune militant anticl√©rical, t√©moin de la "Guerre des Journaux", est devenu l'une des consciences morales de la Troisi√®me R√©publique.
                </p>
                <div className="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                  <button 
                    onClick={onRead}
                    className="px-8 py-4 bg-stone-900 text-stone-50 rounded shadow-lg hover:bg-stone-800 transition-all flex items-center justify-center gap-2 group"
                  >
                    <BookOpen size={20} className="group-hover:scale-110 transition-transform"/>
                    Consulter le Livre de Combat
                  </button>
                  <a 
                    href="#stories"
                    className="px-8 py-4 bg-white border border-stone-300 text-stone-700 rounded shadow-sm hover:bg-stone-50 transition-all flex items-center justify-center gap-2"
                  >
                    <Scroll size={20} />
                    Histoires Oubli√©es
                  </a>
                </div>
              </div>

              <div className="relative">
                <div className="relative w-80 h-96 mx-auto lg:w-96 lg:h-[30rem] bg-stone-200 rounded-lg shadow-2xl rotate-3 border-8 border-white overflow-hidden sepia-[.3]">
                  <img 
                    src="photo.png" 
                    alt="Portrait de Th√©odore Girard" 
                    className="object-cover w-full h-full opacity-90 hover:scale-105 transition-transform duration-700"
                  />
                  <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-6">
                    <p className="text-white font-serif italic text-lg text-center">"S√©nateur des Deux-S√®vres"</p>
                  </div>
                </div>
                <div className="absolute -top-4 -right-4 w-24 h-24 bg-amber-200/50 rounded-full blur-2xl"></div>
                <div className="absolute -bottom-8 -left-8 w-32 h-32 bg-stone-300/50 rounded-full blur-3xl"></div>
              </div>
            </div>
          </div>
        );
      };

      const Biography = () => {
        return (
          <section className="py-24 bg-white relative">
            <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="text-center mb-16">
                <h2 className="text-3xl font-serif text-stone-900 mb-4">Une Vie en Deux Actes</h2>
                <div className="w-24 h-1 bg-amber-700 mx-auto rounded-full mb-8"></div>
                <p className="max-w-2xl mx-auto text-stone-600 font-serif">
                  L'existence de Th√©odore Girard se divise nettement entre sa jeunesse militante en Charente-Inf√©rieure, terre de combat contre le Bonapartisme, et sa carri√®re d'homme d'√âtat b√¢tisseur dans les Deux-S√®vres.
                </p>
              </div>

              <div className="relative border-l-2 border-stone-200 ml-4 md:ml-0 md:pl-0 space-y-12">
                {BIOGRAPHY_EVENTS.map((event, idx) => (
                  <div key={idx} className="relative pl-8 md:pl-0 md:flex md:items-center group">
                    <div className={`absolute -left-[9px] top-0 md:left-1/2 md:-ml-[9px] w-5 h-5 rounded-full border-4 border-white shadow z-10 group-hover:scale-125 transition-transform ${event.period === 'roots' ? 'bg-amber-600' : 'bg-stone-800'}`}></div>
                    <div className={`md:w-1/2 ${idx % 2 === 0 ? 'md:pr-12 md:text-right' : 'md:pl-12 md:ml-auto'}`}>
                      <span className={`font-bold font-sans text-sm tracking-widest ${event.period === 'roots' ? 'text-amber-700' : 'text-stone-600'}`}>
                         {event.period === 'roots' ? 'RACINES & MILITANTISME' : 'HOMME D\'√âTAT'} ‚Ä¢ {event.year}
                      </span>
                      <h3 className="text-xl font-serif font-bold text-stone-800 mt-1 mb-2">{event.title}</h3>
                      <p className="text-stone-600 leading-relaxed font-serif italic">
                        {event.description}
                      </p>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </section>
        );
      };

      const Context = () => {
        return (
          <section className="py-24 bg-stone-100">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div className="col-span-1 md:col-span-1 bg-stone-800 text-stone-50 p-8 rounded-lg shadow-xl flex flex-col justify-between">
                   <div>
                      <h3 className="text-2xl font-serif mb-6 border-b border-stone-600 pb-4">La Guerre de 1870-1876</h3>
                      <p className="mb-4 text-stone-300 font-light">
                        Ces archives ne sont pas neutres. Elles sont le t√©moignage brut d'une France d√©chir√©e qui h√©site encore entre la Monarchie, l'Empire et la R√©publique.
                      </p>
                   </div>
                  <div className="mt-8 flex items-center text-amber-500">
                    <Scroll size={20} className="mr-2" />
                    <span className="text-sm uppercase tracking-widest">Archives</span>
                  </div>
                </div>

                <div className="col-span-1 md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6">
                  {CONTEXT_POINTS.map((point, idx) => (
                    <div key={idx} className="bg-white p-6 rounded border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                      <h4 className="font-bold text-stone-800 mb-2 font-serif text-lg flex items-center">
                        <span className="w-8 h-8 rounded-full bg-stone-100 text-stone-600 flex items-center justify-center text-xs mr-3 font-sans">0{idx + 1}</span>
                        {point.title}
                      </h4>
                      <p className="text-stone-600 text-sm leading-relaxed">
                        {point.text}
                      </p>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </section>
        );
      };

      const StoriesSection = () => {
        const getIcon = (iconName) => {
          switch (iconName) {
            case 'flower': return <Flower className="text-amber-700" size={28} />;
            case 'megaphone': return <Megaphone className="text-amber-700" size={28} />;
            case 'ban': return <Ban className="text-red-700" size={28} />;
            default: return <Scroll className="text-amber-700" size={28} />;
          }
        };

        return (
          <section className="py-24 bg-sepia-200 relative overflow-hidden">
            <div className="absolute top-0 left-0 w-full h-full opacity-5 bg-[url('https://www.transparenttextures.com/patterns/aged-paper.png')]"></div>
            
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
              <div className="text-center mb-16">
                 <span className="inline-block px-3 py-1 bg-amber-800 text-amber-100 text-xs font-bold tracking-widest uppercase rounded-full mb-4">Archives Vivantes</span>
                 <h2 className="text-4xl font-serif text-stone-900 mb-6">Au C≈ìur de la M√™l√©e (1872-1876)</h2>
                 <p className="text-stone-700 text-lg max-w-2xl mx-auto italic font-serif">
                   Quand la politique se r√©glait √† coups de plumes, de proc√®s et d'arnaques aux violettes.
                 </p>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                {ANECDOTES.map((story, idx) => (
                  <div key={idx} className="bg-white p-6 rounded-sm shadow-lg border-2 border-transparent hover:border-amber-700/30 transition-all duration-300 relative group">
                    <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-amber-50 p-3 rounded-full border border-stone-200 shadow-sm group-hover:scale-110 transition-transform">
                      {getIcon(story.icon)}
                    </div>
                    <div className="mt-8 text-center">
                       <span className="text-stone-400 font-serif italic text-sm">{story.year} ‚Ä¢ Page {story.pageRef}</span>
                       <h3 className="text-xl font-bold font-serif text-stone-900 mt-2 mb-4 leading-tight">{story.title}</h3>
                       <p className="text-stone-600 text-sm mb-4 leading-relaxed">{story.content}</p>
                       <div className="bg-amber-50 p-3 rounded text-xs text-amber-900 font-medium italic border-l-2 border-amber-600 text-left">
                         üí° {story.analysis}
                       </div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </section>
        );
      };

      const KeysSection = () => {
        return (
          <section className="py-24 bg-white border-t border-stone-200">
            <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="text-center mb-16">
                <h2 className="text-3xl font-serif text-stone-900 mb-4 flex items-center justify-center gap-3">
                  <Key className="text-stone-400" /> Les Cl√©s de Lecture
                </h2>
                <div className="w-24 h-1 bg-stone-300 mx-auto rounded-full"></div>
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
                
                {/* Vocabulaire */}
                <div className="bg-stone-50 p-8 rounded-lg border border-stone-200">
                   <h3 className="text-xl font-bold font-serif text-stone-900 mb-6 flex items-center gap-2">
                     <BookOpen size={20} className="text-amber-700"/> Le Vocabulaire du Combat
                   </h3>
                   <ul className="space-y-6">
                     {VOCABULARY.map((voc, idx) => (
                       <li key={idx} className="flex gap-4">
                         <span className="font-bold text-stone-800 whitespace-nowrap">{voc.term} :</span>
                         <span className="text-stone-600 italic text-sm">{voc.def}</span>
                       </li>
                     ))}
                   </ul>
                </div>

                {/* Contexte Eco + Evolution */}
                <div className="space-y-8">
                   <div className="bg-stone-800 text-stone-100 p-8 rounded-lg shadow-md relative overflow-hidden">
                      <Coins className="absolute top-4 right-4 text-stone-700 opacity-20" size={120} />
                      <h3 className="text-xl font-bold font-serif text-amber-500 mb-4">{BONAPARTIST_CONTEXT.title}</h3>
                      <p className="text-sm leading-relaxed text-stone-300 relative z-10">{BONAPARTIST_CONTEXT.text}</p>
                   </div>

                   <div className="bg-amber-50 p-8 rounded-lg border border-amber-200">
                      <h3 className="text-xl font-bold font-serif text-amber-900 mb-4 flex items-center gap-2">
                         <TrendingUp size={20} /> {EVOLUTION_ANALYSIS.title}
                      </h3>
                      <p className="text-sm leading-relaxed text-amber-900/80">{EVOLUTION_ANALYSIS.text}</p>
                   </div>
                </div>
              </div>
            </div>
          </section>
        );
      };

      const BookAnalysis = () => {
        const getIcon = (iconName) => {
          switch (iconName) {
            case 'feather': return <PenTool className="text-amber-700" size={32} />;
            case 'eagle': return <Sword className="text-amber-700" size={32} />;
            case 'scale': return <Scale className="text-amber-700" size={32} />;
            default: return <BookOpen className="text-amber-700" size={32} />;
          }
        };

        return (
          <section className="py-24 bg-white border-t border-stone-200">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="text-center mb-16">
                <h2 className="text-3xl font-serif text-stone-900 mb-4">Analyse Historique</h2>
                <div className="w-24 h-1 bg-amber-700 mx-auto rounded-full mb-6"></div>
                <p className="text-stone-600 max-w-2xl mx-auto italic">
                  Comprendre les enjeux derri√®re les caricatures et les textes enflamm√©s.
                </p>
              </div>

              {/* 3 Themes */}
              <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                {BOOK_THEMES.map((theme, idx) => (
                  <div key={idx} className="text-center p-6 bg-stone-50 rounded-lg hover:bg-stone-100 transition-colors">
                    <div className="mb-4 flex justify-center">{getIcon(theme.icon)}</div>
                    <h3 className="font-serif font-bold text-xl text-stone-900 mb-2">{theme.title}</h3>
                    <p className="text-stone-600 text-sm leading-relaxed">{theme.text}</p>
                  </div>
                ))}
              </div>

              {/* Galerie des Acteurs */}
              <div className="bg-stone-900 rounded-xl p-8 md:p-12 text-stone-50">
                 <h3 className="text-2xl font-serif mb-8 text-center text-amber-500 border-b border-stone-800 pb-4">Les Acteurs du Drame</h3>
                 <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                    {KEY_FIGURES.map((fig, idx) => (
                      <div key={idx} className="flex flex-col items-center text-center">
                         <div className="w-16 h-16 rounded-full bg-stone-800 flex items-center justify-center text-2xl font-serif mb-4 border border-stone-700">
                           {fig.name.charAt(0)}
                         </div>
                         <h4 className="text-lg font-bold text-stone-200">{fig.name}</h4>
                         <span className="text-xs uppercase tracking-widest text-amber-600 mb-2 block">{fig.role}</span>
                         <p className="text-stone-400 text-sm italic">{fig.desc}</p>
                      </div>
                    ))}
                 </div>
              </div>
            </div>
          </section>
        );
      };

      const BookReader = ({ currentPageIndex, setCurrentPageIndex }) => {
        const [isFullScreen, setIsFullScreen] = useState(false);
        const containerRef = useRef(null);
        
        // Safety check: ensure we have pages
        const totalPages = BOOK_PAGES_IDS.length;
        const currentId = BOOK_PAGES_IDS[currentPageIndex];

        // Google Drive Preview URL
        const embedUrl = `https://drive.google.com/file/d/${currentId}/preview`;

        // Handlers
        const handlePrev = () => { 
          if (currentPageIndex > 0) setCurrentPageIndex(currentPageIndex - 1); 
        };
        
        const handleNext = () => { 
          if (currentPageIndex < totalPages - 1) setCurrentPageIndex(currentPageIndex + 1); 
        };
        
        const handlePageInput = (e) => {
          const val = parseInt(e.target.value);
          if (!isNaN(val) && val >= 1 && val <= totalPages) {
            setCurrentPageIndex(val - 1);
          }
        };

        const toggleFullScreen = () => {
          if (!document.fullscreenElement) {
            containerRef.current?.requestFullscreen().catch(err => {
              console.error(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
            });
          } else {
            document.exitFullscreen();
          }
        };

        useEffect(() => {
          const handleFSChange = () => {
            setIsFullScreen(!!document.fullscreenElement);
          };
          document.addEventListener('fullscreenchange', handleFSChange);
          return () => document.removeEventListener('fullscreenchange', handleFSChange);
        }, []);

        if (totalPages === 0) {
          return (
            <div className="bg-stone-200 min-h-[50vh] flex items-center justify-center">
              <p className="text-stone-500">Aucune page configur√©e.</p>
            </div>
          );
        }

        // Classes for fullscreen handling
        const containerClasses = isFullScreen 
          ? "fixed inset-0 z-50 bg-stone-900 flex flex-col items-center justify-center p-0"
          : "bg-stone-200 min-h-screen pt-20 pb-12 flex flex-col items-center relative border-t border-stone-300";

        const controlsClasses = isFullScreen
          ? "w-full bg-stone-900/90 text-stone-50 p-4 flex flex-wrap items-center justify-between gap-4 absolute top-0 left-0 z-40 transition-all hover:opacity-100 opacity-0 hover:opacity-100"
          : "w-full max-w-4xl bg-stone-900 text-stone-50 rounded-lg shadow-2xl p-4 mb-6 flex flex-wrap items-center justify-between gap-4 sticky top-20 z-40 mx-4 transition-all";

        const viewerContainerClasses = isFullScreen
          ? "w-full h-full flex items-center justify-center"
          : "w-full max-w-5xl px-4 flex-1 flex flex-col";

        const iframeClasses = isFullScreen
          ? "w-full h-full border-0"
          : "relative z-10 w-full h-full min-h-[80vh] border-0";

        return (
          <div ref={containerRef} className={containerClasses}>
            
            {/* Controls Header */}
            <div className={controlsClasses}>
              
              {/* Navigation */}
              <div className="flex items-center gap-2">
                <button 
                  onClick={handlePrev} 
                  disabled={currentPageIndex === 0}
                  className="p-2 rounded hover:bg-stone-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                  title="Page pr√©c√©dente"
                >
                  <ChevronLeft size={20} />
                </button>
                
                <span className="font-mono text-sm flex items-center">
                  Page 
                  <input 
                    type="number" 
                    value={currentPageIndex + 1} 
                    onChange={handlePageInput}
                    min={1}
                    max={totalPages}
                    className="bg-stone-800 text-white w-14 text-center rounded border border-stone-700 mx-2 focus:outline-none focus:border-amber-500"
                  /> 
                  / {totalPages}
                </span>
                
                <button 
                  onClick={handleNext} 
                  disabled={currentPageIndex === totalPages - 1}
                  className="p-2 rounded hover:bg-stone-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                  title="Page suivante"
                >
                  <ChevronRight size={20} />
                </button>
              </div>

              {/* Title */}
              <div className="flex items-center gap-4 text-sm font-sans text-stone-400 hidden lg:flex">
                <BookOpen size={16} />
                <span className="flex items-center gap-2 text-stone-300">
                   Livre de Combat - Page {currentPageIndex + 1}
                </span>
              </div>

              {/* Right Tools */}
              <div className="flex items-center gap-2">
                 <button 
                   onClick={toggleFullScreen}
                   className="p-2 hover:bg-stone-700 rounded text-stone-400 hover:text-white flex items-center gap-2 text-xs"
                   title={isFullScreen ? "Quitter le plein √©cran" : "Plein √©cran"}
                 >
                   {isFullScreen ? <Minimize size={20}/> : <Maximize size={20}/>}
                 </button>

                 <a 
                   href={`https://drive.google.com/file/d/${currentId}/view`} 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   className="p-2 hover:bg-stone-700 rounded text-stone-400 hover:text-white flex items-center gap-2 text-xs"
                   title="Ouvrir dans Google Drive"
                 >
                   <ExternalLink size={20}/>
                 </a>
              </div>
            </div>

            {/* Reader Area */}
            <div className={viewerContainerClasses}>
              <div className={`relative w-full ${isFullScreen ? 'h-full' : 'bg-white shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-stone-300 rounded-sm overflow-hidden'}`} style={!isFullScreen ? { minHeight: '80vh' } : {}}>
                 
                 {/* Iframe Loading State - Only show if not full screen or handled better */}
                 {!isFullScreen && (
                  <div className="absolute inset-0 flex items-center justify-center z-0 bg-stone-100">
                      <div className="animate-spin rounded-full h-12 w-12 border-4 border-stone-300 border-t-amber-700"></div>
                  </div>
                 )}

                 {/* The Viewer */}
                 <iframe 
                   key={currentId} // Force reload on ID change
                   src={embedUrl} 
                   className={iframeClasses}
                   title={`Page ${currentPageIndex + 1}`}
                   allow="autoplay; fullscreen"
                 ></iframe>

                 {/* Navigation Overlay (for easy clicking) */}
                 <div className="absolute top-0 bottom-0 left-0 w-12 hover:bg-black/5 z-20 cursor-pointer hidden md:block" onClick={handlePrev} title="Pr√©c√©dent"></div>
                 <div className="absolute top-0 bottom-0 right-0 w-12 hover:bg-black/5 z-20 cursor-pointer hidden md:block" onClick={handleNext} title="Suivant"></div>
              </div>
            </div>
            
            {!isFullScreen && (
              <p className="mt-6 text-stone-500 text-xs text-center max-w-md font-sans">
                Astuce : Utilisez les fl√®ches de votre clavier ou cliquez sur les bords pour tourner les pages.
              </p>
            )}

          </div>
        );
      };

      const Summary = ({ onGoToPage }) => {
        return (
          <section className="py-24 bg-white relative border-t border-stone-200">
            <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="text-center mb-16">
                <h2 className="text-3xl font-serif text-stone-900 mb-4 flex items-center justify-center gap-3">
                   <List className="text-amber-700" size={32} />
                   Index du Livre
                </h2>
                <div className="w-24 h-1 bg-amber-700 mx-auto rounded-full mb-6"></div>
                <p className="text-stone-600 max-w-2xl mx-auto italic font-serif">
                  Table des mati√®res reconstitu√©e pour naviguer rapidement dans les notes et articles.
                </p>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-2 bg-stone-50 p-8 rounded-lg border border-stone-200 shadow-inner">
                 {TABLE_OF_CONTENTS.map((item, idx) => (
                   <div 
                     key={idx} 
                     onClick={() => {
                       onGoToPage(item.page);
                       // Optional: scroll to reader when clicking TOC
                       const el = document.getElementById('reader');
                       if(el) el.scrollIntoView({ behavior: 'smooth' });
                     }}
                     className="group flex items-baseline justify-between py-2 border-b border-stone-200 last:border-0 hover:bg-white cursor-pointer px-2 rounded transition-colors"
                   >
                      <span className="font-serif text-stone-800 group-hover:text-amber-800 transition-colors text-lg truncate pr-4">
                         {item.title}
                      </span>
                      <span className="flex-1 border-b border-dotted border-stone-400 mx-2 relative -top-1 opacity-30"></span>
                      <span className="font-sans font-bold text-amber-700 text-sm whitespace-nowrap">P. {item.page}</span>
                   </div>
                 ))}
              </div>
            </div>
          </section>
        );
      };

      const Footer = () => {
        return (
          <footer className="bg-stone-900 text-stone-400 py-12 border-t border-stone-800">
            <div className="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8 text-sm">
              <div>
                <h4 className="text-stone-200 font-serif text-lg mb-4">Archives Th√©odore Girard</h4>
                <p>Une initiative pour pr√©server la m√©moire politique de la Troisi√®me R√©publique.</p>
              </div>
              <div>
                <h4 className="text-stone-200 font-serif text-lg mb-4">Liens Utiles</h4>
                <ul className="space-y-2">
                  <li><a href="https://www.senat.fr" target="_blank" rel="noreferrer" className="hover:text-amber-500 transition-colors">S√©nat.fr</a></li>
                  <li><a href="https://gallica.bnf.fr" target="_blank" rel="noreferrer" className="hover:text-amber-500 transition-colors">Biblioth√®que Nationale (Gallica)</a></li>
                  <li><a href="#" className="hover:text-amber-500 transition-colors">Ville de Melle</a></li>
                </ul>
              </div>
              <div>
                <h4 className="text-stone-200 font-serif text-lg mb-4">Cr√©dits</h4>
                <p>D√©velopp√© avec React & Google Drive Embed.</p>
                <p className="mt-2 text-stone-600">¬© 2023 - Domaine Public</p>
              </div>
            </div>
          </footer>
        );
      };

      // --- Main App Component ---

      const App = () => {
        const [activeSection, setActiveSection] = useState('home');
        const [currentPageIndex, setCurrentPageIndex] = useState(0);

        const handleNavigate = (section) => {
          setActiveSection(section);
          const el = document.getElementById(section);
          if (el) {
             el.scrollIntoView({ behavior: 'smooth' });
          } else {
             window.scrollTo({ top: 0, behavior: 'smooth' });
          }
        };

        const handleGoToPage = (page) => {
          // Page is 1-based, index is 0-based
          const newIndex = Math.max(0, Math.min(page - 1, BOOK_PAGES_IDS.length - 1));
          setCurrentPageIndex(newIndex);
          // Don't auto-scroll here as the summary component handles logic or we might want to stay on Summary
        };

        return (
          <div className="min-h-screen bg-paper text-ink font-sans selection:bg-amber-200 selection:text-amber-900">
            <Navigation activeSection={activeSection} onNavigate={handleNavigate} />
            
            <div id="home">
              <Hero onRead={() => handleNavigate('stories')} />
            </div>
            
            <div id="bio">
              <Biography />
            </div>

            <div id="context">
              <Context />
            </div>

            <div id="stories">
              <StoriesSection />
            </div>

            <div id="keys">
              <KeysSection />
            </div>

            <div id="analysis">
              <BookAnalysis />
            </div>

            <div id="reader">
              <BookReader currentPageIndex={currentPageIndex} setCurrentPageIndex={setCurrentPageIndex} />
            </div>
            
            <div id="summary">
              <Summary onGoToPage={handleGoToPage} />
            </div>

            <Footer />
          </div>
        );
      };

      const rootElement = document.getElementById('root');
      if (!rootElement) {
        throw new Error("Could not find root element to mount to");
      }

      const root = ReactDOM.createRoot(rootElement);
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>